{"version":3,"file":"app.controller.js","sourceRoot":"","sources":["../src/app.controller.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;AAAA,2CAAiD;AACjD,2CAA+C;AAC/C,+CAAoD;AACpD,uCAAsC;AAG/B,IAAM,aAAa,GAAnB,MAAM,aAAa;IACxB,YACuC,UAAsB,EAC1C,aAA4B;QADR,eAAU,GAAV,UAAU,CAAY;QAC1C,kBAAa,GAAb,aAAa,CAAe;IAC5C,CAAC;IAGJ,cAAc;QACZ,IAAI,CAAC;YACH,MAAM,WAAW,GAAG,IAAI,CAAC,UAAU,CAAC,UAAU,KAAK,CAAC,CAAC;YACrD,IAAI,WAAW,EAAE,CAAC;gBAChB,OAAO;oBACL,MAAM,EAAE,SAAS;oBACjB,OAAO,EAAE,yCAAyC;oBAClD,eAAe,EAAE,IAAI,CAAC,UAAU,CAAC,UAAU;iBAC5C,CAAC;YACJ,CAAC;iBAAM,CAAC;gBACN,OAAO;oBACL,MAAM,EAAE,OAAO;oBACf,OAAO,EAAE,oCAAoC;oBAC7C,eAAe,EAAE,IAAI,CAAC,UAAU,CAAC,UAAU;iBAC5C,CAAC;YACJ,CAAC;QACH,CAAC;QAAC,OAAO,KAAK,EAAE,CAAC;YACf,OAAO;gBACL,MAAM,EAAE,OAAO;gBACf,OAAO,EAAE,mCAAmC;gBAC5C,KAAK,EAAE,KAAK,CAAC,OAAO;aACrB,CAAC;QACJ,CAAC;IACH,CAAC;IAGD,OAAO;QACL,OAAO,EAAE,OAAO,EAAE,iBAAiB,EAAE,CAAC;IACxC,CAAC;IAGD,WAAW;QACT,OAAO;YACL,iBAAiB,EAAE,IAAI,CAAC,aAAa,CAAC,GAAG,CAAC,aAAa,CAAC;SACzD,CAAC;IACJ,CAAC;CACF,CAAA;AA3CY,sCAAa;AAOxB;IADC,IAAA,YAAG,GAAE;;;;mDAwBL;AAGD;IADC,IAAA,YAAG,EAAC,OAAO,CAAC;;;;4CAGZ;AAGD;IADC,IAAA,YAAG,EAAC,YAAY,CAAC;;;;gDAKjB;wBA1CU,aAAa;IADzB,IAAA,mBAAU,GAAE;IAGR,WAAA,IAAA,2BAAgB,GAAE,CAAA;qCAA8B,qBAAU;QAC3B,sBAAa;GAHpC,aAAa,CA2CzB","sourcesContent":["import { Controller, Get } from '@nestjs/common';\nimport { ConfigService } from '@nestjs/config';\nimport { InjectConnection } from '@nestjs/mongoose';\nimport { Connection } from 'mongoose';\n\n@Controller()\nexport class AppController {\n  constructor(\n    @InjectConnection() private readonly connection: Connection,\n    private readonly configService: ConfigService,\n  ) {}\n\n  @Get()\n  testConnection() {\n    try {\n      const isConnected = this.connection.readyState === 1;\n      if (isConnected) {\n        return {\n          status: 'success',\n          message: 'Successfully connected to MongoDB Atlas',\n          connectionState: this.connection.readyState,\n        };\n      } else {\n        return {\n          status: 'error',\n          message: 'Failed to connect to MongoDB Atlas',\n          connectionState: this.connection.readyState,\n        };\n      }\n    } catch (error) {\n      return {\n        status: 'error',\n        message: 'Error connecting to MongoDB Atlas',\n        error: error.message,\n      };\n    }\n  }\n\n  @Get('/test')\n  getHome() {\n    return { message: 'API is running!' };\n  }\n\n  @Get('/env-check')\n  getEnvCheck() {\n    return {\n      database_username: this.configService.get('DB_USERNAME'), // Example env variable\n    };\n  }\n}\n"]}