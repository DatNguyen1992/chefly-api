{"version":3,"file":"email.schema.js","sourceRoot":"","sources":["../../../src/email/schemas/email.schema.ts"],"names":[],"mappings":";;;;;;;;;;;;AAAA,+CAA+D;AAC/D,kEAAyD;AAKlD,IAAM,KAAK,GAAX,MAAM,KAAM,SAAQ,wBAAU;CAwBpC,CAAA;AAxBY,sBAAK;AAEhB;IADC,IAAA,eAAI,EAAC,EAAE,QAAQ,EAAE,IAAI,EAAE,MAAM,EAAE,IAAI,EAAE,CAAC;;oCACzB;AAad;IAXC,IAAA,eAAI,EAAC;QACJ,IAAI,EAAE;YACJ;gBACE,IAAI,EAAE,EAAE,IAAI,EAAE,MAAM,EAAE,QAAQ,EAAE,IAAI,EAAE;gBACtC,OAAO,EAAE,EAAE,IAAI,EAAE,MAAM,EAAE,QAAQ,EAAE,IAAI,EAAE;gBACzC,OAAO,EAAE,EAAE,IAAI,EAAE,MAAM,EAAE,QAAQ,EAAE,IAAI,EAAE;gBACzC,UAAU,EAAE,EAAE,IAAI,EAAE,IAAI,EAAE,OAAO,EAAE,IAAI,CAAC,GAAG,EAAE;aAC9C;SACF;QACD,OAAO,EAAE,EAAE;KACZ,CAAC;8BACQ,KAAK;uCAKZ;AAGH;IADC,IAAA,eAAI,EAAC,EAAE,OAAO,EAAE,IAAI,CAAC,GAAG,EAAE,OAAO,EAAE,GAAG,EAAE,CAAC;8BAC/B,IAAI;wCAAC;gBAvBL,KAAK;IAHjB,IAAA,iBAAM,EAAC;QACN,UAAU,EAAE,QAAQ;KACrB,CAAC;GACW,KAAK,CAwBjB;AAEY,QAAA,WAAW,GAAG,wBAAa,CAAC,cAAc,CAAC,KAAK,CAAC,CAAC","sourcesContent":["import { Prop, Schema, SchemaFactory } from '@nestjs/mongoose';\r\nimport { BaseSchema } from '@shared/schemas/base.schema';\r\n\r\n@Schema({\r\n  collection: 'emails',\r\n})\r\nexport class Email extends BaseSchema {\r\n  @Prop({ required: true, unique: true })\r\n  email: string;\r\n\r\n  @Prop({\r\n    type: [\r\n      {\r\n        from: { type: String, required: true },\r\n        subject: { type: String, required: true },\r\n        content: { type: String, required: true },\r\n        receivedAt: { type: Date, default: Date.now },\r\n      },\r\n    ],\r\n    default: [],\r\n  })\r\n  messages: Array<{\r\n    from: string;\r\n    subject: string;\r\n    content: string;\r\n    receivedAt: Date;\r\n  }>;\r\n\r\n  @Prop({ default: Date.now, expires: 600 })\r\n  expiresAt: Date;\r\n}\r\n\r\nexport const EmailSchema = SchemaFactory.createForClass(Email);\r\n"]}