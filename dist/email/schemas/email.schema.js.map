{"version":3,"file":"email.schema.js","sourceRoot":"","sources":["../../../src/email/schemas/email.schema.ts"],"names":[],"mappings":";;;;;;;;;;;;AAAA,+CAA+D;AAC/D,kEAAyD;AAKlD,IAAM,KAAK,GAAX,MAAM,KAAM,SAAQ,wBAAU;CAwBpC,CAAA;AAxBY,sBAAK;AAEhB;IADC,IAAA,eAAI,EAAC,EAAE,QAAQ,EAAE,IAAI,EAAE,MAAM,EAAE,IAAI,EAAE,CAAC;;oCACzB;AAad;IAXC,IAAA,eAAI,EAAC;QACJ,IAAI,EAAE;YACJ;gBACE,IAAI,EAAE,EAAE,IAAI,EAAE,MAAM,EAAE,QAAQ,EAAE,IAAI,EAAE;gBACtC,OAAO,EAAE,EAAE,IAAI,EAAE,MAAM,EAAE,QAAQ,EAAE,IAAI,EAAE;gBACzC,OAAO,EAAE,EAAE,IAAI,EAAE,MAAM,EAAE,QAAQ,EAAE,IAAI,EAAE;gBACzC,UAAU,EAAE,EAAE,IAAI,EAAE,IAAI,EAAE,OAAO,EAAE,IAAI,CAAC,GAAG,EAAE;aAC9C;SACF;QACD,OAAO,EAAE,EAAE;KACZ,CAAC;8BACQ,KAAK;uCAKZ;AAGH;IADC,IAAA,eAAI,EAAC,EAAE,OAAO,EAAE,IAAI,CAAC,GAAG,EAAE,OAAO,EAAE,GAAG,EAAE,CAAC;8BAC/B,IAAI;wCAAC;gBAvBL,KAAK;IAHjB,IAAA,iBAAM,EAAC;QACN,UAAU,EAAE,QAAQ;KACrB,CAAC;GACW,KAAK,CAwBjB;AAEY,QAAA,WAAW,GAAG,wBAAa,CAAC,cAAc,CAAC,KAAK,CAAC,CAAC","sourcesContent":["import { Prop, Schema, SchemaFactory } from '@nestjs/mongoose';\nimport { BaseSchema } from '@shared/schemas/base.schema';\n\n@Schema({\n  collection: 'emails',\n})\nexport class Email extends BaseSchema {\n  @Prop({ required: true, unique: true })\n  email: string;\n\n  @Prop({\n    type: [\n      {\n        from: { type: String, required: true },\n        subject: { type: String, required: true },\n        content: { type: String, required: true },\n        receivedAt: { type: Date, default: Date.now },\n      },\n    ],\n    default: [],\n  })\n  messages: Array<{\n    from: string;\n    subject: string;\n    content: string;\n    receivedAt: Date;\n  }>;\n\n  @Prop({ default: Date.now, expires: 600 })\n  expiresAt: Date;\n}\n\nexport const EmailSchema = SchemaFactory.createForClass(Email);\n"]}