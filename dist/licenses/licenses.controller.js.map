{"version":3,"file":"licenses.controller.js","sourceRoot":"","sources":["../../src/licenses/licenses.controller.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;AAAA,2CAMwB;AACxB,yDAAoD;AAG7C,IAAM,iBAAiB,GAAvB,MAAM,iBAAiB;IAC5B,YAA6B,cAA8B;QAA9B,mBAAc,GAAd,cAAc,CAAgB;IAAG,CAAC;IAGzD,AAAN,KAAK,CAAC,oBAAoB,CAAwB,YAAoB;QACpE,IAAI,CAAC,YAAY,EAAE,CAAC;YAClB,MAAM,IAAI,sBAAa,CACrB,2BAA2B,EAC3B,mBAAU,CAAC,WAAW,CACvB,CAAC;QACJ,CAAC;QAED,IAAI,CAAC;YACH,MAAM,UAAU,GAAG,MAAM,IAAI,CAAC,cAAc,CAAC,aAAa,CAAC,YAAY,CAAC,CAAC;YACzE,IAAI,UAAU,EAAE,CAAC;gBACf,OAAO,EAAE,YAAY,EAAE,UAAU,EAAE,CAAC;YACtC,CAAC;iBAAM,CAAC;gBACN,MAAM,IAAI,sBAAa,CAAC,qBAAqB,EAAE,mBAAU,CAAC,SAAS,CAAC,CAAC;YACvE,CAAC;QACH,CAAC;QAAC,OAAO,KAAK,EAAE,CAAC;YACf,MAAM,IAAI,sBAAa,CAAC,KAAK,CAAC,OAAO,EAAE,mBAAU,CAAC,qBAAqB,CAAC,CAAC;QAC3E,CAAC;IACH,CAAC;CACF,CAAA;AAvBY,8CAAiB;AAItB;IADL,IAAA,YAAG,GAAE;IACsB,WAAA,IAAA,cAAK,EAAC,cAAc,CAAC,CAAA;;;;6DAkBhD;4BAtBU,iBAAiB;IAD7B,IAAA,mBAAU,EAAC,UAAU,CAAC;qCAEwB,iCAAc;GADhD,iBAAiB,CAuB7B","sourcesContent":["import {\n  Controller,\n  Get,\n  Query,\n  HttpStatus,\n  HttpException,\n} from '@nestjs/common';\nimport { LicenseService } from './licenses.service';\n\n@Controller('licenses')\nexport class LicenseController {\n  constructor(private readonly licenseService: LicenseService) {}\n\n  @Get()\n  async getLicenseViolations(@Query('licensePlate') licensePlate: string) {\n    if (!licensePlate) {\n      throw new HttpException(\n        'License plate is required',\n        HttpStatus.BAD_REQUEST,\n      );\n    }\n\n    try {\n      const violations = await this.licenseService.getViolations(licensePlate);\n      if (violations) {\n        return { licensePlate, violations };\n      } else {\n        throw new HttpException('No violations found', HttpStatus.NOT_FOUND);\n      }\n    } catch (error) {\n      throw new HttpException(error.message, HttpStatus.INTERNAL_SERVER_ERROR);\n    }\n  }\n}\n"]}